{% extends 'layout.html' %}

{% block body %}
<div id='meter'><div id='progress'></div> </div>
<form class=""  method="post" >
  <div class="form-group">
    <label for="addLab">Add Labs</label>
    <input type="text" id="addLab" name="addLab" class="form-control" placeholder="Add Lab" required>
    <label for="addLabRoom">Add Lab Rooms</label>
    <input type="text" id="addLabRoom" name="addLabRoom" class="form-control" placeholder="Add Lab Rooms" required>
    <label for="addTeacher">Choose Teacher for all batches<label>
    <!-- do select for teachers -->
    <textarea name="Lab_textAreaField" id="Lab_textAreaField" ></textarea>
    <!-- style="visibility: hidden" -->
    <br>
    <select name="subjects0" id="chooseTea" class=>
            {% for i in subject0 %}
            <option value="{{ i.t_name }}">{{ i.t_name }}</option>
            {% endfor %}
    </select>
    <select name="subjects0" id="chooseTea2" class=>
        {% for i in subject0 %}
        <option value="{{ i.t_name }}">{{ i.t_name }}</option>
        {% endfor %}
    </select>
    <select name="subjects0" id="chooseTea3" class=>
        {% for i in subject0 %}
        <option value="{{ i.t_name }}">{{ i.t_name }}</option>
        {% endfor %}
    </select>
    <select name="subjects0" id="chooseTea4" class=>
        {% for i in subject0 %}
        <option value="{{ i.t_name }}">{{ i.t_name }}</option>
        {% endfor %}
    </select>
    <br>
    <button type="button" onclick="addLaborateries();" class="btn btn-primary">Add</button>
    <input type="button" onclick="allLaborateries();" value="continue" class="btn btn-primary">
    <br>
    <button type="submit" name="button2" id='ram' onclick="javascript: form.action='/afterlab';" > when done !</button>
  </div>
</form>
<script>
//subjects
    var currentLabs = "";
    var all_labs = "";
    var counter = 0;
    function addLaborateries(){
        var input = document.getElementById('addLab').value;
        var input2 = document.getElementById('chooseTea').value;
        var input3 = document.getElementById('chooseTea2').value;
        var input4 = document.getElementById('chooseTea3').value;
        var input5 = document.getElementById('chooseTea4').value;
        var input6 = document.getElementById('addLabRoom').value;

        if(input != '' && input6 != ''){
            currentLabs = input + ':' + input2 + ',' + input3 + ',' + input4 + ',' + input5 + ':' + input6 + '~' + currentLabs;
            console.log(currentLabs);
            document.getElementById('addLab').value = "";
            document.getElementById('addLabRoom').value = "";
        }
        else{
            alert('please fill all fields!');
        }
    }
    function allLaborateries(){
        var input = document.getElementById('addLab').value;
        counter += 1
        if(input != ''){
            if(counter == 4){

                // window.location('/home');
                // progress bar
            }
            else{
                currentLabs = currentLabs.slice(0, -1);
                all_labs = currentLabs + '/' + all_labs;
                console.log(all_labs);
                currentLabs = '';
                document.getElementById('addLab').value = "";
                document.getElementById('addLabRoom').value = "";
                document.getElementById('Lab_textAreaField').innerHTML = all_labs;
            }
        }
        else{
            alert('please fill all fields!');
        }
    }
    // print(allSubjects)
</script>
{% endblock %}

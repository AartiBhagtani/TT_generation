<head>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jspdf/0.9.0rc1/jspdf.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>

</head>
<style media="screen">
  table,th,td{
    border: 1px solid grey;
    border-collapse: collapse;
  }
</style>

<div id="content">
<div class="w3-container" >

  <div class="para" style="text-align: center;">
    <b><h4>K. J. Somaiya Institute of Engineering and Information Technology.</p>
    <p>Somaiya Ayurvihar Complex, Sion, Mumbai - 400022.</h4></b>
  </div>
  <h4 style="text-align: center;"><b>MASTER TIMETABLE {{vars}}&nbsp;Semester - {{y}}</b></h4>
  <b></b>

{% for x in timetable %}
  {% set vary = loop.index0 %}

  <table class="w3-table-all" contenteditable='true' >
    <thead>
      <tr class="w3-grey">
        <td colspan="8" style="text-align: center;"><b>{{year[vary]|upper}}</b></td>
      </tr>
      <tr style="background-color: lightgrey;">
        <th></th>
        <th>09:00-10:00</th>
        <th>10:00-11:00</th>
        <th>11:10-12:10</th>
        <th>12:10-01:10</th>
        <th>01:40-02:40</th>
        <th>02:40-03:40</th>
        <th>03:40-04:40</th>
      </tr>
    </thead>
    <tbody>
    <caption><p><b></b></p><caption>
      {% for y in x %}
      <tr>
        {% set var = loop.index %}
          <th scope="row">{{day[var-1]}}</th>
        {% for w in y %}
        <td>
          {% if w[0] is defined %}
            {% if 'S-' in w[0][-2] %}
              {{w[0][1] + ' / ' + w[0][2] +  ' / ' + w[0][4]}}
            {% else %}
              {% for m in w %}
                {{m[1] + ' / ' + m[2] +  ' / ' + m[-3] + ';;'}}
              {% endfor %}
            {% endif %}
          {% endif %}
        </td>
        {% endfor %}
     </tr>
      {% endfor %}
    <tbody>
  </table>
{% endfor %}
</div>
</div>
